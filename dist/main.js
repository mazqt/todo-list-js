(()=>{"use strict";const e=class{constructor(e,t,n,i,r){this.title=e,this.project=t,this.dueDate=n,this.priority=i,this.description=r}addNote(e){null==this.notes?this.notes=[e]:this.notes.push(e)}},t=function(){let t;n("localStorage")?(null===localStorage.getItem("myTasks")&&(t=[new e("My task","Get started",new Date,"high","Time to start logging the things I need to do!")],localStorage.setItem("myTasks",JSON.stringify(t))),t=JSON.parse(localStorage.getItem("myTasks")),t=t.map((t=>(Object.assign(new Date,t.dueDate),Object.assign(new e,t))))):t=[new e("My task","Get started",new Date,"high","Time to start logging the things I need to do!")];let i=t;return{retrieveTasks:function(){return i},saveTask:function(e){t.push(e),n("localStorage")&&localStorage.setItem("myTasks",JSON.stringify(t)),i=t}}}();function n(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}const i=function(){const n=document.getElementById("listOfTasks"),i=document.getElementById("newtask"),r=function(e){n.innerHTML="";const t=document.createElement("div");t.classList.toggle("taskList"),e.forEach((e=>{const n=document.createElement("div");n.classList.toggle(e.priority);const i=document.createElement("h2");i.innerText=e.title;const r=document.createElement("p");r.innerText=e.dueDate.slice(0,10);const o=document.createElement("p");if(o.innerText=e.description,n.appendChild(i),n.appendChild(r),n.appendChild(o),null!=e.notes){const t=document.createElement("ul");e.notes.forEach((e=>{const n=document.createElement("li");n.innerText=e,t.appendChild(n)})),n.appendChild(t)}t.appendChild(n)})),n.appendChild(t)};return{renderTasks:r,renderNewForm:function(){const n=document.createElement("form"),o=document.createElement("label");o.innerText="Title: ",n.appendChild(o);const s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("name","title"),s.setAttribute("required",""),n.appendChild(s);const a=document.createElement("label");a.innerText="Project: ",n.appendChild(a);const c=document.createElement("select");c.setAttribute("name","project"),c.setAttribute("required","");const l=document.createElement("option");l.innerText="Default",l.setAttribute("value","default"),c.appendChild(l),n.appendChild(c);const d=document.createElement("label");d.innerText="Done by: ",n.appendChild(d);const u=document.createElement("input");u.setAttribute("type","date"),u.setAttribute("name","date"),u.setAttribute("required",""),u.setAttribute("min",(new Date).toJSON().slice(0,10)),u.setAttribute("max",new Date((new Date).setFullYear((new Date).getFullYear()+1)).toJSON().slice(0,10)),n.appendChild(u);const m=document.createElement("label");m.innerText="Priority: ",n.appendChild(m);const p=document.createElement("select");p.setAttribute("name","priority"),p.setAttribute("required","");const h=document.createElement("option");h.setAttribute("value","high"),h.innerText="High",p.appendChild(h);const g=document.createElement("option");g.setAttribute("value","medium"),g.innerText="Medium",p.appendChild(g);const E=document.createElement("option");E.setAttribute("value","low"),E.innerText="Low",p.appendChild(E),n.appendChild(p);const T=document.createElement("label");T.innerText="Description: ",n.appendChild(T);const b=document.createElement("input");b.setAttribute("name","description"),b.setAttribute("type","text"),b.setAttribute("required",""),n.appendChild(b);const C=document.createElement("button");C.innerText="Create new task",C.setAttribute("type","submit"),n.appendChild(C),n.addEventListener("submit",(function(n){n.preventDefault();let i=new FormData(this),o=new e(i.get("title"),i.get("project"),i.get("date"),i.get("priority"),i.get("description"));console.log(o),t.saveTask(o),r(t.retrieveTasks())})),i.appendChild(n)}}}(),r=(new e("title1","project1","date1","high","desc1"),new e("title2","project2","date2","medium","desc2"),t.retrieveTasks());console.log(r),console.log(t.tasks),console.log(t.currentTasks),console.log(r[0].dueDate.slice(0,10)),i.renderTasks(r),i.renderNewForm()})();