(()=>{"use strict";const e=class{constructor(e,t,n,i,r){this.title=e,this.project=t,this.dueDate=n,this.priority=i,this.description=r}addNote(e){null==this.notes?this.notes=[e]:this.notes.push(e)}},t=function(){let t;n("localStorage")?(null===localStorage.getItem("myTasks")&&(t=[new e("My task","Get started",new Date,"high","Time to start logging the things I need to do!")],localStorage.setItem("myTasks",JSON.stringify(t))),t=JSON.parse(localStorage.getItem("myTasks")),t=t.map((t=>(Object.assign(new Date,t.dueDate),Object.assign(new e,t))))):t=[new e("My task","Get started",new Date,"high","Time to start logging the things I need to do!")];let i=t;return{retrieveTasks:function(){return i},saveTask:function(e){t.push(e),n("localStorage")&&localStorage.setItem("myTasks",JSON.stringify(t)),i.push(e)}}}();function n(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}const i=function(){const n=document.getElementById("listOfTasks"),i=document.getElementById("newtask"),r=function(e){n.innerHTML="";const t=document.createElement("div");t.classList.toggle("taskList"),e.forEach((e=>{const n=document.createElement("div");n.classList.toggle(e.priority);const i=document.createElement("h2");i.innerText=e.title;const r=document.createElement("p");r.innerText=e.dueDate.slice(0,10);const s=document.createElement("p");if(s.innerText=e.description,n.appendChild(i),n.appendChild(r),n.appendChild(s),null!=e.notes){const t=document.createElement("ul");e.notes.forEach((e=>{const n=document.createElement("li");n.innerText=e,t.appendChild(n)})),n.appendChild(t)}t.appendChild(n)})),n.appendChild(t)};return{renderTasks:r,renderNewForm:function(){const n=document.createElement("form"),s=document.createElement("label");s.innerText="Title: ",n.appendChild(s);const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name","title"),o.setAttribute("required",""),n.appendChild(o);const a=document.createElement("label");a.innerText="Project: ",n.appendChild(a);const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("name","project"),c.setAttribute("required",""),c.setAttribute("list","projects");const l=document.createElement("datalist");l.setAttribute("id","projects");const d=document.createElement("option");d.setAttribute("value","Default"),l.appendChild(d),c.appendChild(l),n.appendChild(c);const u=document.createElement("label");u.innerText="Done by: ",n.appendChild(u);const m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("name","date"),m.setAttribute("required",""),m.setAttribute("min",(new Date).toJSON().slice(0,10)),m.setAttribute("max",new Date((new Date).setFullYear((new Date).getFullYear()+1)).toJSON().slice(0,10)),n.appendChild(m);const p=document.createElement("label");p.innerText="Priority: ",n.appendChild(p);const h=document.createElement("select");h.setAttribute("name","priority"),h.setAttribute("required","");const g=document.createElement("option");g.setAttribute("value","high"),g.innerText="High",h.appendChild(g);const E=document.createElement("option");E.setAttribute("value","medium"),E.innerText="Medium",h.appendChild(E);const b=document.createElement("option");b.setAttribute("value","low"),b.innerText="Low",h.appendChild(b),n.appendChild(h);const T=document.createElement("label");T.innerText="Description: ",n.appendChild(T);const C=document.createElement("input");C.setAttribute("name","description"),C.setAttribute("type","text"),C.setAttribute("required",""),n.appendChild(C);const A=document.createElement("button");A.innerText="Create new task",A.setAttribute("type","submit"),n.appendChild(A),n.addEventListener("submit",(function(i){i.preventDefault();let s=new FormData(this),o=new e(s.get("title"),s.get("project"),s.get("date"),s.get("priority"),s.get("description"));t.saveTask(o),r(t.retrieveTasks()),n.reset()})),i.appendChild(n)}}}(),r=(new e("title1","project1","date1","high","desc1"),new e("title2","project2","date2","medium","desc2"),t.retrieveTasks());console.log(r),console.log(t.tasks),console.log(t.currentTasks),console.log(r[0].dueDate.slice(0,10)),i.renderTasks(r),i.renderNewForm()})();